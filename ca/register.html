
<!--A Design by W3layouts
   Author: W3layout
   Author URL: http://w3layouts.com
   License: Creative Commons Attribution 3.0 Unported
   License URL: http://creativecommons.org/licenses/by/3.0/
   -->
<!DOCTYPE html>
<html lang="en">
   <head>
	<link rel="shortcut icon" href="../images/CLST_logo.ico">
	<title>Register | CA | Celesta</title>
	<!-- Meta Tags -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
	<script type="application/x-javascript">
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
	</script>
	<!-- // Meta Tags -->
	<!--booststrap-->
	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" media="all">
	<!--//booststrap end-->
	<!-- font-awesome icons -->
	<link href="css/fontawesome-all.css" rel="stylesheet">
	<!-- //font-awesome icons -->
	<!--stylesheets-->
	<link href="css/style.css" rel='stylesheet' type='text/css' media="all">
	<!--//stylesheets-->
	<link href="//fonts.googleapis.com/css?family=Josefin+Sans:100,100i,300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
	<link href="//fonts.googleapis.com/css?family=PT+Sans:400,400i,700,700i" rel="stylesheet">
	<link rel="shortcut icon" href="images/logo_bbb.svg">
   </head>
   <body>

<!--/banner-->
<!-- banner -->
<header>
<div class="banner1">
	<div class="header-bar">
		<div class="container">
			<nav class="navbar navbar-expand-lg navbar-light fixed-top">
				<div class="hedder-up">
					<h1>
						<img src="../images/logo_bbb.svg" alt="">
						<a class="navbar-brand" href="#">Registration</a>
					</h1>
				</div>
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
               </button>
               <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                   <ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link" href="index.php">CA Home <span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item active">
							<a href="register.html" class="nav-link">Register</a>
						</li>
						<li class="nav-item">
							<a href="judging.html" class="nav-link">Judging Criteria</a>
						</li>
						<li class="nav-item">
							<a href="#bottom" class="nav-link">Contact</a>
						</li>
						<li class="nav-item">
							<a href="../index.php" class="nav-link">Celesta Home</a>
						</li>
					</ul>
               </div>
            </nav>				
		</div>
   </div>
         <!-- //Navigation -->
</div>
	</header>
	<!-- //banner -->
	<!-- contact -->
	<section class="contact-agile contact-page">
		<div class="container">
			<div class="wthree_head_section">
				<h2 class="w3l_header">Register</h2><br><div class="alert alert-warning" role="alert">
				  Already registered from the Celesta home page? Click <a href="../switch.php">here</a> to switch your Regular account to Campus Ambassador one.
				</div> 
			</div>
			<div id="reg-msg">
				<strong>
					After completing your registration process, our Media and Public Relation managers will contact you soon. Thank you.
					<br>
					<span style="color:red">Make sure you enter both, your Email ID and your Phone number correctly as you will need both to confirm your account.</span>
				</strong>
			</div>
			<div class="contact-eql">
				<!-- <div class="contact-left">
					<h4>Sign Up with Facebook or Google</h4>
					
					
					<div id="fb-oauth">
						<button>FB Oauth</button>
					</div>
					<br>
					
					<div id="g-oauth">
						<button>Google Oauth</button>
					</div>
				</div> -->
				<div class="contact-middle">
					<h4>Sign Up here:</h4>
					<!--<form name="form" method="post">
					-->	<div class="step1">
						<div class="form-fields-agileinfo">
							<p>Full Name</p>
							<input type="text" name="name" placeholder="John Doe" required="" />
						</div>
						<div class="form-fields-agileinfo">
							<p>Contact Number(preferably whatsapp no.)</p>
							<input type="text" name="mobile" placeholder="1234567890" required="" />
						</div>
						<div class="form-fields-agileinfo">
							<p>Email</p>
							<input type="email" name="email" placeholder="someone@somthing.com" required="" />
						</div>
						<div class="form-fields-agileinfo">
							<p>Password</p>
							<input type="password" name="password" placeholder="******" required="" />
						</div>
						<div class="form-fields-agileinfo">
							<p>College Name</p>
							<input type="text" name="college" placeholder="IIT Patna" required="" />
						</div>
						</div>
							<div id="subm">
								<input class="Register" type="submit" value="Register">
							</div>
						<div id="errorBanner" style="color: red;"></div>
						<img id="loader_gif" style="display: none;" src="../Gallery/loading.gif" alt=""
						 height="60">
						</div>
						
				</div>	
				</div>
			</div>
		</div>
	</section>
<!-- //contact -->

<!-- Footer -->
<footer>
	<section class="copyright-wthree">
		<div class="container">
			<div class="row">
				<div class="col-sm-4 w3ls_footer_grid_left">
					<h5 class="sub-head">Reach to us at</h5>
					<p>	Indian Institute of Technology Patna, Bihta
						<span>Patna-801106 (Bihar)</span>
					</p>
				</div>
				<div class="col-sm-4 w3ls_footer_grid_left">
					<h5 class="sub-head">Ring us at</h5>
					<p>
						<span>9955532583</span>
					</p>
				</div>
				<div class="col-sm-4 w3ls_footer_grid_left">
					<h5 class="sub-head">Write to us at</h5>
					<p>
						<a href="mailto:mpr@celesta.org.in">mpr@celesta.org.in</a>
					</p>
				</div>
			</div>
			<div class="w3l-social">
				<ul>
					<li>
						<a href="https://www.facebook.com/CelestaIITP/" class="fab fa-facebook"></a>
					</li>
					<li>
						<a href="https://twitter.com/celesta_iitp" class="fab fa-twitter"></a>
					</li>
					<li>
						<a href="https://www.instagram.com/celestaiitp_official/" class="fab fa-instagram"></a>
					</li>
					<li>
						<a href="https://www.linkedin.com/in/celesta-iit-patna-3722b6166" class="fab fa-linkedin-in"></a>
					</li>
				</ul>
			</div>
		</div>
	</section>
</footer>
<!-- //Footer -->


     <!--js working-->
      <script src="js/jquery.min.js"></script>
      <!--//js working-->
	  <!-- requried-jsfiles-for owl -->
	<!-- smooth scrolling -->
	<script type="text/javascript" src="js/move-top.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>
	<!-- here stars scrolling icon -->
	<script type="text/javascript">




	// Register

	var name = "",
		email = "",
		password = "",
		mobile = "",
		college = "",
		referal = "";

	function check(value, pattern){
        if(value.match(pattern)){
           return true;
        } else {
        	return false;
        }
    }

	function validate(fname, email, college, phone) {
     	//match email address
        var emailRegex = '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}.[A-Za-z]{2,4}$'; 
   	    //match full name
        var fnameRegex = "^[a-zA-Z-.' ]{6,32}$";
        //match college
        var collegeRegex = "^[a-zA-Z ]+$";
        //match phone
        var phoneRegex = '^([(\+91)][0-9]{12}|[0-9]{10})$';

        bfname = check(fname, fnameRegex);
        if(!bfname){
           	$("#errorBanner").text("Invalid Name");
            return false;
        }

        bcollege = check(college, collegeRegex);
        if(!bcollege){
        	$("#errorBanner").text("Invalid College Name");
        	return false;
        }

        bemail = check(email, emailRegex);
        if(!bemail){
			$("#errorBanner").text("Invalid Email");
            return false;
        } 

        bphone = check(phone, phoneRegex);
        if(!bphone){
        	$("#errorBanner").text("Invalid Contact Number");
            return false;
        }
        return true;
    }

	// After entering the sent referal code 

			$(".Register").click(function(){
				$("#loader_gif").fadeIn();
				name = $("input[name=name]").val().trim();
				email = $("input[name=email]").val().trim();
				mobile = $("input[name=mobile]").val().trim();
				college = $("input[name=college]").val().trim();
				password = $("input[name=password]").val().trim(); 
				if(validate(name, email, college, mobile, password , 0)){
					$.post("//celesta.org.in/apiLe/register",
            			{
              				name: name,
              				emailid:email,
              				password:password,
              				mobile: mobile,
              				college:college,
							isCA:1
            			},
            			function(data, status){
              				console.log("Response");
              				console.log("Data: " + data + "\nStatus: " + status);
              				if(status=='success'){
              					console.log(data);

                				if(data["status"]=="200"){         
                  	        		$(".Referal").css("display","none");
                  	        		$("#errorBanner").css("color", "black");
                  	        		$("#errorBanner").fadeIn();
									$("#loader_gif").fadeOut();
                   					$("#errorBanner").html('<center><h2 style="text-decoration: underlined;">Registration Succesful!</h2><b>Registration Successfully completed</b><br>Check your email "'+email+'" for the confirmation email. Your Campus Ambassador referral ID is "'+data.id+'". and your celesta ID is "CLST'+data.id+'". You can ask people to register using this four digit code as the CA referral code when they register for Celesta.</center>');
                   					$(".Register,.step1").css("display","none");
                  	        	}else{
                  					console.log("err");
									$("#loader_gif").fadeOut();
              					    $("#errorBanner").fadeIn();
                   					$("#errorBanner").html('<center><b>Error occured<br>'+data["message"]+'</center>');
              					}
				            }else{
								$("#loader_gif").fadeOut();
				            	$("#errorBanner").fadeIn();
              					$("#errorBanner").html('An error occured.<br> Please try again.');
                  				console.log("Failed "+data);
                			}
       					},"json");
    			}else{
    				$("#errorBanner").fadeIn();
					$("#loader_gif").fadeOut();
    			}
			});

	</script>
	<!-- //here ends scrolling icon -->
<!-- //smooth scrolling -->
<!-- scrolling script -->
<script type="text/javascript">
	jQuery(document).ready(function($) {
		$(".scroll").click(function(event){		
			event.preventDefault();
			$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
		});
		$("a[href='#bottom']").click(function() {
			$("html, body").animate({ scrollTop: $(document).height() }, "slow");
			return false;
		});​
	});
</script> 
<!-- //scrolling script -->

<!--bootstrap working-->
    <script src="js/bootstrap.min.js"></script>
 <!-- //bootstrap working-->
   </body>
</html>
